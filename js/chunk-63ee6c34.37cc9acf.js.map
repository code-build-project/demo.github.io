{"version":3,"sources":["webpack:///./src/pages/Authorization.vue?7933","webpack:///./src/pages/Authorization.vue?d7ab","webpack:///./src/components/pageAuth/FormMain.vue?fb78","webpack:///src/components/pageAuth/FormMain.vue","webpack:///./src/components/pageAuth/FormMain.vue?4815","webpack:///./src/components/pageAuth/FormMain.vue","webpack:///./src/components/pageAuth/FormRecovery.vue?2831","webpack:///src/components/pageAuth/FormRecovery.vue","webpack:///./src/components/pageAuth/FormRecovery.vue?eebe","webpack:///./src/components/pageAuth/FormRecovery.vue","webpack:///src/pages/Authorization.vue","webpack:///./src/pages/Authorization.vue?8766","webpack:///./src/pages/Authorization.vue","webpack:///./src/components/pageAuth/FormMain.vue?cf20","webpack:///./src/components/pageAuth/FormRecovery.vue?d561"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","forms","currentForm","tag","on","$event","staticRenderFns","attrs","_v","errors","email","validateEmail","nativeOn","type","indexOf","_k","keyCode","key","onLogin","model","value","form","callback","$$v","$set","expression","password","$emit","typeButton","isPageLoaded","data","component","isSuccess","_s","send"],"mappings":"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","file":"js/chunk-63ee6c34.37cc9acf.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Authorization.vue?vue&type=style&index=0&id=a49573a2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Authorization.vue?vue&type=style&index=0&id=a49573a2&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c(_vm.forms[_vm.currentForm],{tag:\"component\",staticClass:\"page__form\",on:{\"changeForm\":function($event){_vm.currentForm = $event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"auth\"},[_c('v-icon',{staticClass:\"auth__logo\",attrs:{\"path\":\"img/logo.svg\"}}),_c('h1',{staticClass:\"auth__title\"},[_vm._v(\" Войдите, чтобы продолжить \")]),_c('v-input',{staticClass:\"auth__mail\",attrs:{\"error-message\":_vm.errors.email},on:{\"change\":function($event){_vm.errors.email = ''},\"blur\":_vm.validateEmail},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onLogin()}},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}},[_vm._v(\" E-mail \")]),_c('v-input',{staticClass:\"auth__password\",attrs:{\"type\":\"password\",\"error-message\":_vm.errors.password},on:{\"change\":function($event){_vm.errors.password = ''}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.onLogin()}},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}},[_vm._v(\" Пароль \")]),_c('div',{staticClass:\"auth__forget\",on:{\"click\":function($event){return _vm.$emit('changeForm', 'recovery')}}},[_vm._v(\" Забыли пароль? \")]),_c('v-button',{staticClass:\"auth__button\",attrs:{\"type\":_vm.typeButton,\"is-loaded\":_vm.isPageLoaded},on:{\"click\":function($event){return _vm.onLogin()}}},[_vm._v(\" Войти \")]),_c('div',{staticClass:\"auth__footer\"},[_c('span',[_vm._v(\"Новый пользователь?\")]),_c('router-link',{staticClass:\"auth__reg\",attrs:{\"to\":\"/reg\",\"target\":\"_blank\"}},[_vm._v(\" Зарегистрируйтесь \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"auth\">\r\n        <v-icon \r\n            class=\"auth__logo\" \r\n            path=\"img/logo.svg\" \r\n        />\r\n\r\n        <h1 class=\"auth__title\">\n            Войдите, чтобы продолжить\n        </h1>\r\n\r\n        <v-input\r\n            v-model=\"form.email\"\r\n            class=\"auth__mail\"\r\n            :error-message=\"errors.email\"\r\n            @change=\"errors.email = ''\"\r\n            @blur=\"validateEmail\"\r\n            @keyup.enter.native=\"onLogin()\"\r\n        >\r\n            E-mail\r\n        </v-input>\r\n\r\n        <v-input\r\n            v-model=\"form.password\"\r\n            class=\"auth__password\"\r\n            type=\"password\"\r\n            :error-message=\"errors.password\"\r\n            @change=\"errors.password = ''\"\r\n            @keyup.enter.native=\"onLogin()\"\r\n        >\r\n            Пароль\r\n        </v-input>\r\n\r\n        <div \r\n            class=\"auth__forget\" \r\n            @click=\"$emit('changeForm', 'recovery')\"\r\n        >\r\n            Забыли пароль?\r\n        </div>\r\n\r\n        <v-button\r\n            class=\"auth__button\"\r\n            :type=\"typeButton\"\r\n            :is-loaded=\"isPageLoaded\"\r\n            @click=\"onLogin()\"\r\n        >\r\n            Войти\r\n        </v-button>\r\n\r\n        <div class=\"auth__footer\">\r\n            <span>Новый пользователь?</span>\r\n            <router-link \r\n                class=\"auth__reg\" \r\n                to=\"/reg\" \r\n                target=\"_blank\"\r\n            >\r\n                Зарегистрируйтесь\r\n            </router-link>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n// Components\r\nimport VIcon from '@/components/common/VIcon';\r\nimport VInput from '@/components/common/VInput';\r\nimport VButton from '@/components/common/VButton';\r\n\r\n// Helpers\r\nimport { REGEX_EMAIL } from '@/helpers/constants';\r\n\r\nexport default {\r\n    name: 'AuthFormMain',\r\n\r\n    components: {\r\n        VIcon,\r\n        VInput,\r\n        VButton\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            isPageLoaded: true,\r\n\r\n            form: {\r\n                email: '',\r\n                password: '',\r\n            },\r\n\r\n            errors: {\r\n                email: '',\r\n                password: '',\r\n            }\r\n        };\r\n    },\r\n\r\n    computed: {\r\n        isValid() {\r\n            return REGEX_EMAIL.test(this.form.email) && this.form.password;\r\n        },\r\n        \r\n        typeButton() {\r\n            return this.isValid ? 'primary' : 'disabled';\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        validateEmail() {\r\n            if (!REGEX_EMAIL.test(this.form.email)) {\r\n                this.errors.email = 'Неверный формат';\r\n            } else {\r\n                this.errors.email = '';\r\n            }\r\n        },\r\n\r\n        async onLogin() {\r\n            if (!this.isValid) return;\r\n            this.isPageLoaded = false;\r\n\r\n            try {\r\n                await this.$service.auth.logIn(this.form);\r\n                this.$router.push('/').then(() => location.reload());\r\n            } catch ({ data }) {\r\n                if (data.type === 'IncorrectEmail') {\r\n                    this.errors.email = data.message;\r\n                } else {\r\n                    this.errors.password = data.message;\r\n                }\r\n            } finally {\r\n                this.isPageLoaded = true;\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.auth {\r\n    @extend .flex_column-start-center;\r\n    position: relative;\r\n}\r\n\r\n.auth__logo {\r\n    @extend .flex_row-center-center;\r\n    width: 107px;\r\n    height: 75px;\r\n    border: 3px solid $color-blue;\r\n    border-radius: 6px;\r\n    fill: $color-blue;\r\n}\r\n\r\n.auth__title {\r\n    margin-top: 25px;\r\n    font-size: 22px;\r\n    text-align: center;\r\n    color: $color-black;\r\n}\r\n\r\n.auth__mail {\r\n    margin-top: 95px;\r\n}\r\n\r\n.auth__password {\r\n    margin-top: 40px;\r\n}\r\n\r\n.auth__forget {\r\n    margin-top: 10px;\r\n    align-self: flex-end;\r\n    font-size: 16px;\r\n    color: $color-gray;\r\n\r\n    &:hover {\r\n        cursor: pointer;\r\n        color: $color-blue;\r\n    }\r\n}\r\n\r\n.auth__button {\r\n    width: 100%;\r\n    height: 70px;\r\n    margin-top: auto;\r\n    font-family: 'EuclidCircular';\r\n    font-size: 20px;\r\n}\r\n\r\n.auth__footer {\r\n    margin-top: 30px;\r\n    font-size: 16px;\r\n    color: $color-gray;\r\n}\r\n\r\n.auth__reg {\r\n    margin-left: 5px;\r\n    font-weight: bold;\r\n    color: $color-black;\r\n    background: no-repeat 0 90%;\r\n    background-image: linear-gradient($color-blue, $color-blue);\r\n    background-size: 100% 2px;\r\n\r\n    &:hover {\r\n        cursor: pointer;\r\n        color: $color-blue;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 575px) {\r\n    .auth__logo {\r\n        width: 71px;\r\n        height: 50px;\r\n        border-width: 2px;\r\n        border-radius: 3px;\r\n    }\r\n\r\n    .auth__title {\r\n        margin-top: 15px;\r\n        font-size: 18px;\r\n    }\r\n\r\n    .auth__mail {\r\n        margin-top: 25px;\r\n    }\r\n\r\n    .auth__password {\r\n        margin-top: 30px;\r\n    }\r\n\r\n    .auth__forget {\r\n        margin-top: 6px;\r\n        font-size: 12px;\r\n    }\r\n\r\n    .auth__button {\r\n        height: 45px;\r\n        font-size: 15px;\r\n    }\r\n\r\n    .auth__footer {\r\n        margin-top: 13px;\r\n        font-size: 12px;\r\n        text-align: center;\r\n    }\r\n\r\n    .auth__reg {\r\n        margin-left: 0px;\r\n        font-weight: 700;\r\n        background-size: 100% 1px;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormMain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormMain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormMain.vue?vue&type=template&id=379609a2&scoped=true&\"\nimport script from \"./FormMain.vue?vue&type=script&lang=js&\"\nexport * from \"./FormMain.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FormMain.vue?vue&type=style&index=0&id=379609a2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"379609a2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"recovery\"},[_c('h1',{staticClass:\"recovery__title\"},[_vm._v(\" Восстановление пароля \")]),(!_vm.isSuccess)?[_c('h2',{staticClass:\"recovery__subtitle\"},[_vm._v(\" Укажите свой email и на него будет выслан новый пароль. \")]),_c('v-input',{staticClass:\"recovery__mail\",attrs:{\"error-message\":_vm.errors.email},on:{\"change\":function($event){_vm.errors.email = ''},\"blur\":_vm.validateEmail},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.send()}},model:{value:(_vm.form.email),callback:function ($$v) {_vm.$set(_vm.form, \"email\", $$v)},expression:\"form.email\"}},[_vm._v(\" E-mail \")]),_c('v-button',{staticClass:\"recovery__button\",attrs:{\"type\":_vm.typeButton,\"is-loaded\":_vm.isPageLoaded},on:{\"click\":function($event){return _vm.send()}}},[_vm._v(\" Отправить \")]),_c('div',{staticClass:\"recovery__footer\"},[_vm._v(\" Вспомнили пароль? \"),_c('div',{staticClass:\"recovery__auth\",on:{\"click\":function($event){return _vm.$emit('changeForm', 'main')}}},[_vm._v(\" Войти \")])])]:[_c('h2',{staticClass:\"recovery__subtitle\"},[_vm._v(\" По вашему запросу на адрес \"+_vm._s(_vm.form.email)+\" было отправлено письмо с новым паролем. \")]),_c('v-button',{staticClass:\"recovery__button\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$emit('changeForm', 'main')}}},[_vm._v(\" Авторизоваться \")])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"recovery\">\r\n        <h1 class=\"recovery__title\">\n            Восстановление пароля\n        </h1>\r\n\r\n        <template v-if=\"!isSuccess\">\r\n            <h2 class=\"recovery__subtitle\">\r\n                Укажите свой email и на него будет выслан новый пароль.\r\n            </h2>\r\n\r\n            <v-input\r\n                v-model=\"form.email\"\r\n                class=\"recovery__mail\"\r\n                :error-message=\"errors.email\"\r\n                @change=\"errors.email = ''\"\r\n                @blur=\"validateEmail\"\r\n                @keyup.enter.native=\"send()\"\r\n            >\r\n                E-mail\r\n            </v-input>\r\n\r\n            <v-button\r\n                class=\"recovery__button\"\r\n                :type=\"typeButton\"\r\n                :is-loaded=\"isPageLoaded\"\r\n                @click=\"send()\"\r\n            >\r\n                Отправить\r\n            </v-button>\r\n\r\n            <div class=\"recovery__footer\">\r\n                Вспомнили пароль?\r\n                <div \r\n                    class=\"recovery__auth\" \r\n                    @click=\"$emit('changeForm', 'main')\"\r\n                > \r\n                    Войти \r\n                </div>\r\n            </div>\r\n        </template>\r\n\r\n        <template v-else>\r\n            <h2 class=\"recovery__subtitle\">\r\n                По вашему запросу на адрес {{ form.email }} было отправлено письмо с новым паролем.\r\n            </h2>\r\n\r\n            <v-button \r\n                class=\"recovery__button\" \r\n                type=\"primary\" \r\n                @click=\"$emit('changeForm', 'main')\"\r\n            >\r\n                Авторизоваться\r\n            </v-button>\r\n        </template>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n// Components\r\nimport VInput from '@/components/common/VInput';\r\nimport VButton from '@/components/common/VButton';\r\n\r\n// Helpers\r\nimport { REGEX_EMAIL } from '@/helpers/constants';\r\n\r\nexport default {\r\n    name: 'AuthFormRecovery',\r\n\r\n    components: {\r\n        VInput,\r\n        VButton\r\n    },\r\n\r\n    data() {\r\n        return {\r\n            isPageLoaded: true,\r\n            isSuccess: false,\r\n\r\n            form: {\r\n                email: ''\r\n            },\r\n\r\n            errors: {\r\n                email: ''\r\n            }\r\n        };\r\n    },\r\n\r\n    computed: {\r\n        isValid() {\r\n            return REGEX_EMAIL.test(this.form.email);\r\n        },\r\n\r\n        typeButton() {\r\n            return this.isValid ? 'primary' : 'disabled';\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        validateEmail() {\r\n            if (!REGEX_EMAIL.test(this.form.email)) {\r\n                this.errors.email = 'Неверный формат';\r\n            } else {\r\n                this.errors.email = '';\r\n            }\r\n        },\r\n\r\n        async send() {\r\n            if (!this.isValid) return;\r\n            this.isPageLoaded = false;\r\n\r\n            try {\r\n                await this.$service.auth.recovery(this.form);\r\n                this.isSuccess = true;\r\n            } catch ({ data }) {\r\n                this.errors.email = data.message;\r\n            } finally {\r\n                this.isPageLoaded = true;\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.recovery {\r\n    @extend .flex_column;\r\n}\r\n\r\n.recovery__title {\r\n    font-size: 26px;\r\n    color: $color-black;\r\n}\r\n\r\n.recovery__subtitle {\r\n    margin-top: 60px;\r\n    font-size: 20px;\r\n    line-height: 28px;\r\n    color: $color-black;\r\n}\r\n\r\n.recovery__mail {\r\n    margin-top: 60px;\r\n}\r\n\r\n.recovery__button {\r\n    height: 70px;\r\n    margin-top: auto;\r\n    font-family: 'EuclidCircular';\r\n    font-size: 20px;\r\n}\r\n\r\n.recovery__footer {\r\n    display: flex;\r\n    margin-top: 25px;\r\n    font-size: 16px;\r\n    color: $color-gray;\r\n    align-self: center;\r\n}\r\n\r\n.recovery__auth {\r\n    margin-left: 5px;\r\n    font-weight: bold;\r\n    color: $color-black;\r\n    background: no-repeat 0 90%;\r\n    background-image: linear-gradient($color-blue, $color-blue);\r\n    background-size: 100% 2px;\r\n\r\n    &:hover {\r\n        cursor: pointer;\r\n        color: $color-blue;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 575px) {\r\n    .recovery__title {\r\n        font-size: 18px;\r\n    }\r\n\r\n    .recovery__subtitle {\r\n        margin-top: 30px;\r\n        font-size: 15px;\r\n        line-height: 20px;\r\n    }\r\n\r\n    .recovery__mail {\r\n        margin-top: 30px;\r\n    }\r\n\r\n    .recovery__button {\r\n        height: 45px;\r\n        font-size: 15px;\r\n    }\r\n\r\n    .recovery__footer {\r\n        margin-top: 13px;\r\n        font-size: 12px;\r\n    }\r\n\r\n    .recovery__auth {\r\n        margin-left: 2px;\r\n        font-weight: 700;\r\n        background-size: 100% 1px;\r\n    }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormRecovery.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormRecovery.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FormRecovery.vue?vue&type=template&id=3d462e67&scoped=true&\"\nimport script from \"./FormRecovery.vue?vue&type=script&lang=js&\"\nexport * from \"./FormRecovery.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FormRecovery.vue?vue&type=style&index=0&id=3d462e67&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d462e67\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"page\">\n        <component \n            :is=\"forms[currentForm]\" \n            class=\"page__form\" \n            @changeForm=\"currentForm = $event\" \n        />\n    </div>\n</template>\n\n<script>\nimport FormMain from '@/components/pageAuth/FormMain';\nimport FormRecovery from '@/components/pageAuth/FormRecovery';\n\nexport default {\n    name: 'Authorization',\n\n    components: {\n        FormMain,\n        FormRecovery\n    },\n\n    data() {\n        return {\n            forms: {\n                main: FormMain,\n                recovery: FormRecovery\n            },\n            \n            currentForm: 'main'\n        };\n    }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.page {\n    @extend .flex_row-center-center;\n    height: 100%;\n    padding: 10px 20px;\n}\n\n.page__form {\n    width: 490px;\n    height: 735px;\n    border: 2px solid $color-blue;\n    border-radius: 8px;\n    padding: 75px 58px;\n}\n\n@media screen and (max-width: 575px) {\n    .page__form {\n        width: 280px;\n        height: 460px;\n        border-width: 1px;\n        border-radius: 5px;\n        padding: 39px 33px;\n    }\n}\n\n@media screen and (min-width: 576px) and (max-height: 735px), \n       screen and (max-width: 575px) and (max-height: 460px) {\n    .page {\n        align-items: flex-start;\n        overflow-y: auto;\n    }   \n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Authorization.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Authorization.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Authorization.vue?vue&type=template&id=a49573a2&scoped=true&\"\nimport script from \"./Authorization.vue?vue&type=script&lang=js&\"\nexport * from \"./Authorization.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Authorization.vue?vue&type=style&index=0&id=a49573a2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a49573a2\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormMain.vue?vue&type=style&index=0&id=379609a2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormMain.vue?vue&type=style&index=0&id=379609a2&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormRecovery.vue?vue&type=style&index=0&id=3d462e67&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FormRecovery.vue?vue&type=style&index=0&id=3d462e67&lang=scss&scoped=true&\""],"sourceRoot":""}